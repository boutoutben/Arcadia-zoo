{% extends 'base.html.twig' %}

{% block title %}{{title}}{% endblock %}

{% block content %}

    <section>
        <div class='modifier-title'>
            <h1 class='modifier-title-text'><b>Modifer</b></h1>
        </div>
        <form method="post" action="{{actionName}}"class='form-choice'>
            <select id="choice" name="choice" class='choice'>
                <option> Choix de l'action </option>
                <option value="create" data="create">créer</option>
                <option value="update" data="update">mettre à jour</option>
                <option value="delete" data="delete">supprimer</option>
            </select>
            <button type="submit" class='btn-choice'>générer</button>
        </form>
        {% if choice == "create" %}
            <div class="formType" id="create">
                <h1> Créer un {{namePlace}}</h1>
                {{ form_start(form) }}
                    <table>
                        <tr>
                            <td>{{ form_label(form.name) }}</td>
                            <td>{{ form_widget(form.name, {'full_name': 'name' }) }}</td>
                        </tr>
                        <tr>
                            <td>{{ form_label(form.etat) }}</td>
                            <td>{{ form_widget(form.etat, { 'full_name': 'etat' }) }}</td>
                        </tr>
                        <tr>
                            <td>{{form_label(form.race)}}</td>
                            <td>{{form_widget(form.race, {"full_name": "race"})}}</td>
                        </tr>
                    </table>
                    {{ form_widget(form.img, { 'full_name': 'image' }) }}
                    <button type="submit" class="btn-form">Créer</button>
                {{ form_end(form) }}
            </div>
        {% elseif choice == "update" %}
             <div class="formType" id="update">
                <h1> mettre à jour les {{namePlace}}s</h1>
                {{ form_start(formUpdate) }}
                    <table>
                        <tr>
                            <td>{{form_label(formUpdate.nameToChange)}}</td>
                            <td>{{form_widget(formUpdate.nameToChange, {"full_name":"nameToChange"})}}</td>
                        <tr>
                            <td>{{ form_label(formUpdate.name) }}</td>
                            <td>{{ form_widget(formUpdate.name, {'full_name': 'name' }) }}</td>
                        </tr>
                        <tr>
                            <td>{{ form_label(formUpdate.etat) }}</td>
                            <td>{{ form_widget(formUpdate.etat, { 'full_name': 'etat' }) }}</td>
                        </tr>
                        <tr>
                            <td>{{form_label(formUpdate.raceToChange)}}</td>
                            <td>{{form_widget(formUpdate.raceToChange, {'full_name':'raceToChange'})}}</td>
                        </tr>
                        <tr>
                            <td>{{form_label(formUpdate.race)}}</td>
                            <td>{{form_widget(formUpdate.race, {'full_name':'race'})}}</td>
                        </tr>
                    </table>
                    {{ form_widget(formUpdate.img, { 'full_name': 'image' }) }}
                    <button type="submit" class="btn-form">Mettre à jour</button>
                {{ form_end(formUpdate) }}
            </div>
        {% elseif choice == "delete" %}
            <div class="formType" id="update">
                <h1> supprimer un {{namePlace}}</h1>
                {{ form_start(formDelete) }}
                    <table>
                        <tr>
                            <td>{{form_label(formDelete.nameToDelete)}}</td>
                            <td>{{form_widget(formDelete.nameToDelete, {"full_name":"nameToDelete"})}}</td>
                    </table>
                    <button type="submit" class="btn-form">supprimer</button>
                {{ form_end(formDelete) }}
            </div>
        {% else %}
            <h1 class="text-center margin-100">Merci de selectionné une action</h1>
        {% endif %}
    </section>
{% endblock %}
